{% extends "base.html" %}


{#{% if form.errors %}#}
{#    <p>Your username and password didn't match. Please try again.</p>#}
{#{% endif %}#}

{#{% if next %}#}
{#    {% if user.is_authenticated %}#}
{#        <p>Your account doesn't have access to this page. To proceed,#}
{#            please login with an account that has access.</p>#}
{#    {% else %}#}
{#        <p>Please login to see this page.</p>#}
{#    {% endif %}#}
{#{% endif %}#}

{#    <form method="post" action="{% url 'login' %}">#}
{#        {% csrf_token %}#}
{##}
{#        <div>#}
{#            {{ form.username.label_tag }}#}
{#            {{ form.username }}#}
{#        </div>#}
{#        <div>#}
{#            {{ form.password.label_tag }}#}
{#            {{ form.password }}#}
{#        </div>#}
{##}
{#        <div>#}
{#            <input type="submit" value="login"/>#}
{#            <input type="hidden" name="next" value="{{ next }}"/>#}
{#        </div>#}
{#    </form>#}

{# Assumes you setup the password_reset view in your URLconf #}
{% block title %}User Login{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h2>Create A New User</h2>
                    </div>
                    <div class="card-body">
                        {% if form.errors %}
                            <p class="alert alert-danger">Your username and password didn't match. Please try again.</p>
                        {% endif %}

                        {% if next %}
                            {% if user.is_authenticated %}
                                <p class="alert alert-warning">Your account doesn't have access to this page. To proceed,
                                    please login with an account that has access.</p>
                            {% else %}
                                <p class="alert alert-warning">Please login to see this page.</p>
                            {% endif %}
                        {% endif %}

                        <form action="" method="post">
                            {% csrf_token %}
                            {{ form.non_field_errors }}
                            <div class="form-group row">
                                <label for="{{ form.username.id_for_label }}"
                                       class="col-sm-2 col-form-label">{{ form.username.label }}:</label>
                                <div class="col-sm-10">
                                    {{ form.username }}
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="{{ form.password.id_for_label }}"
                                       class="col-sm-2 col-form-label">{{ form.password.label }}:</label>
                                <div class="col-sm-10">
                                    {{ form.password }}
                                </div>
                            </div>
                            <input type="submit"
                                   class="btn bg-firebrick"
                                   id="submit"
                                   value="Submit">
                        </form>
                        <br>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <a href="{% url 'cites:register' %}">Create New User</a>
                            </li>
                            <li class="list-group-item">
                                <a href="{% url 'password_reset' %}">Lost password</a>
                            </li>
                        </ul>


                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
